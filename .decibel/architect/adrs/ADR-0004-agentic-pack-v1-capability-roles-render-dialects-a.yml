id: ADR-0004
scope: project
project: decibel-tools
title: Agentic Pack v1 — Capability Roles, Render Dialects, and Consensus Orchestration
status: accepted
created_at: 2025-12-22T19:56:57.216Z
updated_at: 2025-12-22T19:56:57.216Z
context: 'Senken contains multiple agent-like components (Sentinel, Oracle, Mother, Avatars). We observe: (1) Voice inconsistency - Mother can become "hype", reducing clarity, (2) Role ambiguity - unclear whether output is detection, synthesis, decision, or domain review, (3) Semiotic opportunity - small typography cues already exist (tool output in distinct ANSI color), (4) Need for portability - same approach should be reusable for other projects (Studio "Max") where different agent roles exist. Goal: agents share a canonical payload schema (machine-readable truth), outputs rendered through role-consistent dialects (human-parsable semiotics), multi-agent decisions follow clear consensus policy (veto/weights/requirements), packs are composable + compilable into a single reference anchor (Memento Pack pattern).'
decision: "Adopt Agentic Pack v1: (1) Define capability roles: Sensor, Analyst, Overmind, Specialist. (2) Standardize canonical agent payload format across agents. (3) Implement Render Modules (Dialects): deterministic renderers that transform canonical payload → text while preserving meaning and changing compression/typography/stance. (4) Implement Consensus Policy for Overmind coordinating Specialists, including veto and weighted resolution. (5) Add ANSI Style Spec to reserve terminal colors for meaning (channels). (6) Version, hash, and log pack selection and renderer IDs per event/decision. (7) Add minimal golden-set eval harness. Core principle: separating payload from renderer prevents prompt/voice changes from corrupting system semantics. Renderers are pure functions that change semiotics, not meaning."
consequences: 'Positive: Clarity of purpose improves when outputs are role-identifiable at a glance. Banks-inspired "felt intelligence" achievable by changing rendering, not underlying truth. Deterministic renderers create stable UX conventions that become faster to parse. Debuggability improves - can replay payloads through different renderers. Portability - same skeleton works for Studio Max with different Specialist roles. Negative: Additional abstraction layer to maintain. Risk of renderers becoming decorative noise (mitigated by golden set + lint). Risk of agents bypassing schema (mitigated by lint as gate).'
