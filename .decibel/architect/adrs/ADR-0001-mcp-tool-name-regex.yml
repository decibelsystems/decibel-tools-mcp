id: ADR-0001
title: MCP Tool Names Must Use Underscores Not Dots
status: accepted
created_at: 2025-12-06
updated_at: 2025-12-06

context: |
  When adding ChatGPT compatibility, tool names were changed to use dot notation 
  (e.g., `sentinel.scanData`, `architect.createAdr`). This worked in ChatGPT but 
  caused Claude's MCP loader to fail with error:
  
  `tools.11.FrontendRemoteMcpToolDefinition.name: String should match pattern '^[a-zA-Z0-9_-]{1,64}$'`
  
  The entire MCP server failed to load, blocking all Decibel tools in Claude projects.
  
  Platform tool name constraints:
  - Claude MCP: `^[a-zA-Z0-9_-]{1,64}$` (no dots allowed)
  - ChatGPT: Allows dots in tool names

decision: |
  Use underscores instead of dots in all MCP tool names:
  
  - `sentinel.scanData` → `sentinel_scanData`
  - `sentinel.listIssues` → `sentinel_listIssues`
  - `sentinel.createIssue` → `sentinel_createIssue`
  - `architect.createAdr` → `architect_createAdr`
  
  Underscores are the universal safe pattern that works across both Claude MCP and ChatGPT.

consequences: |
  Positive:
  - MCP server loads correctly in Claude
  - Tools work across both platforms
  - Consistent naming convention
  
  Negative:
  - Slightly less readable than dot notation
  
  Future consideration:
  - Add build-time validation to catch invalid tool names before they break production
  - Could add a linter rule or test that validates tool names against the regex
